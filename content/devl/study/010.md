---
layout : post
title : "프로젝트를 위한 개념 - Database"
date: 2023-11-02
summary: 
categories : [ database ]
tags : [ study ]
---


* 데이터 무결성(Data Integrity) : 데이터 값이 정확한 상태

### RDBMS

관계형 데이터베이스.

#### 스키마

* 데이터의 구조와 구성을 정의
* 데이터베이스 테이블, 열, 관계, 제약조건 등의 정보가 포함

* 논리적 스키마 : 
  * 데이터베이스의 전체적인 구조를 정의
  * 테이블, 열 , 테이블 간의 관계 등을 포함
  * DMBS의 사용자가 데이터에 접근할 수 있는 방식을 결정

* 물리적 스키마 : 
  * 데이터를 실제로 어떻게 저장하고 처리하는지 정의
  * 데이터 파일, 인덱스 , 저장 위치 및 성능 향상을 위한 구체적인 구조를 다룸.


#### 테이블 구조 



#### 키의 종류

* 슈퍼키 (Super Key) : 유일성을 만족하는 키
* 복합키 (Composite Key) : 2개 이상의 속성을 사용한 키
* 후보키 (Candidate Key) : 유일성과 최소성을 만족하는 키
* 기본키 (Primary Key) : 후보키에서 선택된 키. NULL 값 불가, 기본키 속성끼리 중복 불가
* 대체키 (Alternate Key) : 후보 키 중에 기본 외의 것
* 외래키 (Foreign Key) : 다른 테이블 간의 기본키를 참조하는 속성. 테이블들 간의 관계를 나타냄

#### 제약 조건

* 제약 조건 : 데이터를 작성 할 때 조건에 맞지 않는 데이터를 입력시키지 않기 위한 구조. 제약을 둠으로써 데이터의 무결성을 가질 수 있음.

|      제약명       |                         설명                          |
|:--------------:|:---------------------------------------------------:|
| PRIMARY KEY 제약 | 컬럼 값은 반드시 존재해야하며 유일해야함 <br> UNIQUE, NOTNULL 제약조건 결합 |
|   UNIQUE 제약    |              중복값 금지, 해당 컬럼은 유일한 값을 가짐               |
|  NOT NULL 제약   |                      NULL 값 금지                      |
|    CHECK 제약    |            해당 컬럼에 입력할 수 있는 값의 범위나 조건 지정             |
| FOREIGN KEY 제약 |            다른 테이블의 기본 키 또는 고유 키를 참조하는 제약            |
|   DEFAULT 제약   |            해당 필드의 디폴트 값을 설정할 수 있게 해주는 제약            |



> 참조  https://kr98gyeongim.tistory.com/98

### 트랜잭션

* 유사한 시스템에서 데이터베이스 상호작용의 단위 (또는 논리적 작업 단위)
  * 유사한 시스템 : 트랜잭션이 성공과 실패가 분명하고, 상호 독립적이며, 일관되고 믿을 수 있는 시스템

#### 트랜잭션 ACID 특성

* Atomicity(원자성)
  * 사전적 의미 : 더이상 쪼갤 수 없음
  * 트랜잭션이 데이터베이스에 모두 반영되거나, 전혀 반영되지 않아야하는 것.
  * 중간단계에서 실패되는 일이 없음

* Consistency(정합성)
  * 정합성 : 정언명제의 판단, 논리적 연관에 의해 성립됨. 모순 혹은 오류 없음을 의미. 전제 및 결론, 논증이 모두 참이므로 반드시 참. 경험의 유무, 관점의 파이에 종속되지 않음.
  * 데이터 정합성 : 어떤 데이터들이 값이 서로 일치함.
  * 트랜잭션 처리 전과 처리 후 데이터의 모순이 없는 상태
  * 작업의 처리 결과가 항상 일관성이 있어야 함
  * > 은행에서는 계좌 잔고가 항상 정확하고 일관된 상태여야 합니다. 이것은 한 거래가 다른 거래에 영향을 미치지 않고, 계좌 잔고가 항상 올바르게 유지되는 것을 보장하는 것을 의미

* Isolation(독립성)
  * 트랜잭션 수행 시 다른 트랜잭션의 연산 작업이 끼어들지 못하도록 보장하는 것.
  * 트랜잭션 밖의 어떤 연산도 중간 단계의 데이터를 볼 수 없음.
  
* Durability(지속성)
  * 성공적으로 수행된 트랜잭션은 영원히 반영되어야 함
  * 모든 트랜잭션은 로그로 남음.





### 정규화

#### 이상

테이블에서 일부 속성들의 종속으로 인해 데이터 중복이 발생하고, 이 중복으로 인해 테이블 조작 시 문제가 발생하는 현상을 의미

1. **삽입 이상** : 테이블에 데이터를 삽입할 때 의도와는 관계없이 <u>원하지 않은 값들로 인해 삽입할 수 없게 되는 현상</u>

2. **삭제 이상** : 테이블에서 한 튜플을 삭제할 때 의도와는 상관없는 값들도 함께 삭제되는, <u> 즉 연쇄삭제가 발생하는 현상</u>

3. **갱신 이상** : 테이블에서 튜플에 있는 속성 값을 갱신할 때 <u> 일부 튜플의 정보만 갱신되어 정보에 불일치성이 생기는 현상 </u>



#### 정규화

1. 제 1정규형 : 도메인이 원자값만으로 되어 있는 정규형.

2. 제 2정규형 : 테이블이 제 1 정규형이고 기본키가 아닌 모든 속성이 기본키에 대해  완전 함수적 종속을 만족하는 정규형.

  > 함수형 종속?
  > 데이터의 의미를 표현하는 것으로, 제약 조건이 되는 동시에 데이터베이스에서 항상 유지돼야 할 조건


