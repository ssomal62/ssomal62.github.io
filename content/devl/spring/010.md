---
layout : post
title : "Memo #2"
date: 2023-11-17
summary:
categories : [ spring ]
tags : [ bitcamp,  naverCloudCamp ]
---

### ë©”ëª¨ ì‚­ì œ

#### 1.

```xml
<delete id="deleteMemo" parameterType="int">
    DELETE FROM  memodb WHERE num = #{num}
</delete>
```

#### 2.

```java
public void deleteMemo(int num) {
    session.delete(nameSpace + "deleteMemo", num);
}
```

#### 3.

```java
@GetMapping("/memo/delete")
public void memoDelete(@RequestParam int num){
    memoDao.deleteMemo(num);
}
```

#### 4.


```javascript
//ì‚­ì œ ì•„ì´ì½˜
<a href="#" class = "memodel" num = "\${item.num}" style="cursor: pointer; color: red;">ì‚­ì œ</a>
```

```javascript
//ë©”ì¸ í•¨ìˆ˜ ë‚´
$(document).on("click",".memodel", function (){
   let num = $(this).attr("num");
   let a = confirm("ì‚­ì œí•˜ë ¤ë©´ í™•ì¸");

   if(a){
       $.ajax({
           type:"get",
           dataType:"text",
           url:"./delete",
           data : {"num":num},
           success:function (res){
               list();
           }
       }) ;
   }
});
```

### ì¶”ì²œìˆ˜ ì¦ê°€

#### 1.

```xml
<update id="updateLikesByNum" parameterType="int">
    UPDATE memodb set likes = likes + 1 WHERE num = #{num}
</update>

<select id="countLikes" parameterType="int" resultType="int">
    SELECT likes FROM memodb WHERE num = #{num}
</select>
```


#### 2.

```java
public void updateLikes(int num) {
    session.update(nameSpace + "updateLikesByNum", num);
}

public int getCountLikes(int num) {
  return  session.selectOne(nameSpace + "countLikes", num);
}
```


#### 3.

```java
@GetMapping("/memo/likes")
public Map<String, Integer> countLikes(@RequestParam int num){
    //ì¢‹ì•„ìš” ìˆ˜ ì¦ê°€
    memoDao.updateLikes(num);

    //ì¦ê°€ëœ ì¢‹ì•„ìš” ìˆ˜ ì–»ê¸°
    int likes = memoDao.getCountLikes(num);

    Map<String, Integer> map = new HashMap<>();
    map.put("likes", likes);

    return map;
}
```

#### 4.

```javascript
ì¶”ì²œìˆ˜ : <span>\${item.likes}</span><span class="increlikes" style = "cursor:pointer;" num = "\${item.num}">ğŸ’™</span><br>
```

```javascript
//ì¢‹ì•„ìš” ìˆ˜ ì¦ê°€
$(document).on("click",".increlikes",function (){
   let num = $(this).attr("num");
   let $prev = $(this).prev();
   $.ajax({
       type:"get",
       dataType:"json",
       url:"./likes",
       data : {"num": num},
       success:function (res){
           $prev.text(res.likes);
       }
   });
});
```


### ë„¤ì´ë²„

* ì¦ê²¨ì°¾ê¸° ì¶”ê°€
  * Bucket Managment
  * Image Optimizer
  * Global Edge


ì˜¤ë¸Œì íŠ¸ ìŠ¤í† ë¦¬ì§€ > ë²„í‚· ìƒì„± > ë²„í‚· ì´ë¦„ (bitcamp701) > ë‹¤ìŒ > ë‹¤ìŒ > ê³µê°œ  >


ì´ë¯¸ì§€ì˜µí‹°ë§ˆì´ì €


### Bucket Managment

* ì´ìš© ì‹ ì²­ > ë²„í‚·ìƒì„± ëˆ„ë¥´ê¸°

![img_17.png](./img/010/img_17.png)


*** ë²„í‚¤ìƒì„± ê³¼ì • ë‹¤ì‹œ ì •ë¦¬í•˜ì‹


* ìƒˆí´ë” -> photo (ë”ë¸”í´ë¦­)

* ë“¤ì–´ê°€ë©´ ìš°ì¸¡ìƒë‹¨ì— í˜„ì¬ ê²½ë¡œê°€ ë‚˜íƒ€ë‚œë‹¤.

![img_18.png](./img/010/img_18.png)

* ì—…ë¡œë“œ > [ê¶Œí•œ ë° ë©”íƒ€ ë°ì´í„° ì„¤ì •] > ëª¨ë‘ì—ê²Œ ê³µê°œí•˜ê¸° (ê³µê°œ) > í™•ì¸

* ì´ë¯¸ì§€ë¥¼ ë”ë¸”í´ë¦­í•˜ë©´ ê²½ë¡œê°€ ë‚˜ì˜¨ë‹¤.

![img_19.png](./img/010/img_19.png)


### Global Edge í”„ë¡œí•„ ìƒì„±

![img_20.png](./img/010/img_20.png)

### Image Optimaizer ì„¸íŒ…

* ì–¼êµ´ ì‚¬ì§„ì¼ ê²½ìš° ì–¼êµ´ì„ ì˜ì—­ì„ ì¸ì‹í•´ì„œ ì •ì‚¬ê°í˜•ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë§ì¶°ì¤Œ.

1. í”„ë¡œì íŠ¸ ìƒì„±


![img_21.png](./img/010/img_21.png)


![img_22.png](./img/010/img_22.png)

![img_23.png](./img/010/img_23.png)


![img_24.png](./img/010/img_24.png)

* ì‰¬ìš´ì…ë ¥ í´ë¦­

![img_25.png](./img/010/img_25.png)

![img_26.png](./img/010/img_26.png)

* ë©”ëª¨ë„£ê³  ì €ì¥

![img_27.png](./img/010/img_27.png)

![img_28.png](./img/010/img_28.png)

![img_29.png](./img/010/img_29.png)



###  ë„¤ì´ë²„ ì—°ê²°


#### 
* êµ¿ì–´ìŠ¤ ë°ì´í„° > ê³„ì •ê´€ë¦¬

* ![img_30.png](./img/010/img_30.png)

* ì¸ì¦í‚¤ ê´€ë¦¬ > ì•¡ì„¸ìŠ¤í‚¤ + ì‹œí¬ë¦¿í‚¤ í™•ì¸ê°€ëŠ¥.


#### pom.xml ì— ì˜ì¡´ì„± ì¶”ê°€

```javascript
<dependency>
    <groupId>io.awspring.cloud</groupId>
    <artifactId>spring-cloud-starter-aws</artifactId>
    <version>2.4.4</version>
</dependency>
<dependency>
        <groupId>com.amazonaws</groupId>
        <artifactId>aws-java-sdk-s3</artifactId>
        <version>1.12.416</version>
</dependency>
```
