---
layout : post
title : "데이터 모델링의 이해 - 문제 풀이"
date: 2023-10-02
summary: 
categories : [ database, sqld ]
tags : [ study ]
---

> 각 문제를 풀면서 새롭게 안 사실 + 개념 복습

### 1번 문제

* 어플리케이션과 데이터 간의 연계성을 명확하게 높게 정의?
  * 어플리케이션이 변경 될 때마다 데이터 모델도 변경되는 상황 초래 ➡️ 비유연성
  

* 데이터 모델링을 할 때 지양할 점 : 중복, 비유연성, 비일관성


* 데이터의 정의를 데이터 사용 프로세스와 분리함으로써 프로세스의 변화로 인해 데이터 모델이 수시될 가능성을 줄인다.
  * 개념적 모델링 : 업무 중심적으로 프로세스를 포괄적으로 모델링.
  * 논리적 독립성 : 개념 스키마가 변경돼도 외부스키마는 영향을 받지 않음.


* 데이터 간의 일관성을 유지하기 위해 상호 연관 관계를 명확하게 정의
  * 모델링의 세가지 특징 중 명확화에 대한 것이다 (나머지 : 추상화, 단순화)
  
---

### 2번 문제


엔터티 분류는 2가지 유형으로 나뉨

  1. 엔터티 분류 - 발생 시점 (엔터티가 생성되는 시점에 따른 분류)
     * 기 : 독립적으로 생성, 자식 엔터티 ⭕, 
       * 먼저 기본 엔터티 부터 생성
       * ex)**상품, 회원** 
     * 중 : 기본 엔터티에서 파생, 행위 엔터티 생성 
       * 기본 엔터티로부터 연관된 엔터티를 생성
       * 업무에 있어 중심적인 역할을 함 
       * ex) **주문** : 상품 또는 회원과 관련된 '주문'엔터티 생성
     * 행 : 2개 이상의 엔터티로 파생
       * 초기 단계보다는 설계 단계에서 많이 도출됨.
       * ex) **주문상품** = 주문 부모 엔터티 + 상품 부모 엔터티 
  2. 엔터티 분류 - 유형과 무형
     * 유 : 물리적인 형태 존재, 안정적, 지속적 , ex)회원, 상품
     * 개 : 물리적인 형태 없음, 개념적 , ex)부서, 학과
     * 사 : 행위를 함으로써 발생, 빈번함, 통계자료로 이용. ex)주문, 이벤트 응모

---

### 3번 문제

* ERD에서 나타내는 것
  * 관계명
  * 관계차수
  * 관계 선택 사양 
    * 필수 > 1개 이상, ERD 표현 `--|<`
    * 선택 > 0 가능, ERD 표현 `--o|<`


* 존재 관계 ex) 학생 - 학과 : (소속된다)
* 행위 관계 ex) 학생 - 출석부 : (출석한다)

* 존재 및 행위에 관한 관계
  * ERD에서 존재 및 행위에 관한 관계는 구분해서 표현하지 않는다.
  * 클래스 다이어그램에서는 이것을 구분하여 연관 관계와 의존 관계로 표현한다.

---

### 4번 문제

<span style = "color : #8e8b82; font-size: smaller;">
또나옴
</span>

* 데이터 모델링을 할 때 지양해야 할 점

1. 비일관성
  * 문제점 ➡️ 개발자가 다른 데이터와의 연관성을 고려하지 않고 일부 데이터만 변경했을 때 (데이터의 중복이 없는 경우에도 발생 가능)
  * 대책 ➡️ 모델링을 할 때 데이터 간의 연관 관계에 대해 명확하게 정의
2. 비유연성(1번 문제에서 다룸)
  * 문제점 ➡️ 어플리케이션의 경우 사소한 변경에도 데이터 모델이 수시로 변경돼야 할 수 있음 
  * 대책 ➡️ 유지보수의 어려움을 가중시키므로 데이터 모델과 프로세스를 분리하여 유연성을 높여야함.
3. 중복

  
---

### 5번 문제

* 상품 : 엔터티
* 상품명/카테고리/가격 : 상품 엔터티의 속성명

---

### 6번 문제


|              식별자              |             비식별자              |
|:-----------------------------:|:-----------------------------:|
|             강한 관계             |             약한 관계             |
| 부모 엔터티의 식별자가<br> 자식 엔터티의 주식별자 | 부모 엔터티의 식별자가<br> 자식엔터티의 일반 속성 |
|       부모 엔터티가 있어야 생성 가능       |    부모 엔터티 없이 자식 엔터티 생성 가능     |
|            ERD 실선             |           ERD    점선           |


---

### 7번, 8번 문제

![img_2.png](/devl/db/img/005/img_2.png)

> 출처 <https://ppomelo.tistory.com/51>

---

### 9번 문제

ERD 작성 순서 올바르게 나열하기

1. 엔터티를 그린다.
2. 엔터티 간의 관계를 나타낸다.
3. 관계명을 정의한다.
4. 엔터티를 적절하게 배치한다.
5. 관계의 참여도를 나타낸다.
6. 관계의 필수 여부를 나타낸다.

~~내 답 : 1-4-3-2-5-6~~

틀림. 


엔터티 이름과 관계명을 헷갈려서 실수한 문제.
  * 엔터티 : 학생, 출석부
  * 관계명 : 출석한다. 등록된다.

<div class="mermaid" style="margin-left: 50px;">

erDiagram

"학생" ||--o{ "출석부" : "↓출석한다/↑등록된다"

</div>


* **답 : 1-4-2-3-5-6**

---

### 10번 문제

![img_1.png](/devl/db/img/005/img_1.png)

> 출처 <https://ppomelo.tistory.com/51>

---

### 11번 문제


* 중심 엔터티 
  * 발생 시점에 따른 엔터티 분류 중 하나.
  * 업무에 있어 핵심적인 역할
  * 데이터의 양이 많이 발생됨
  * ex) 계약, 사고, 예금원장, 청구, 주문, 매출 엔터티 등


개념 추가

* 기본 엔터티
  * **업무에 원래 존재하는 정보**
  * 독립적으로 생성
  * 자식 엔터티를 가질 수 있음

* 행위 엔터티
  * 2개 이상의 엔터티로부터 파생
  * 초기 단계보다는 설계 단계에서 많이 도출됨.
  * **데이터가 자주 변경되거나 증가할 수 있음**


---

### 12번 문제

ERD 표기법 종류

![img_3.png](/devl/db/img/005/img_3.png)

>출처 <https://itwiki.kr/w/ER_%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8>


![img_4.png](/devl/db/img/005/img_4.png)

>출처 <https://okky.kr/questions/1342081>


---

### 13번 문제

* 속성의 특징
  * 의미상으로 더이상 쪼개질 수 없어야 함.(최소의 데이터 레벨)
  * 한개의 속성은 하나의 속성값을 가짐

* 속성 분류
  1. 특성에 따른 분류 : 기본 속성, 설계 속성, 파생 속성
  2. 구성방식에 따른 분류 : PK속성, FK 속성, 일반 속성(=PK, FK를 제외한 나머지 속성)

* 기본 속성
  * 가장 일반적인 속성으로 업무 프로세스 분석을 통해 바로 정의 가능한 속성.
    > 쉽게 생각하면 '학생'엔터티의 '이름, 학년' 등 이런 기본 속성들은 바로 정의를 내릴 수 있지만 '학번(설계)', '평균점수(파생)' 속성들은 '학생'엔터티의 기본 속성이 없이는 정의를 내릴 수 없다.
  * 엔터티의 가장 많은 퍼센티지를 차지하는 속성
  * ex)상품 이름, 상품 가격

* 설계 속성
  * 인스턴스에 유니크함을 부여
  * ex) 학번

* 파생 속성 
  * 다른 속성으로부터 계산된 값이나, 가공된 값을 나타낸 속성
  * ex) '상품 재고' > 주문이라는 행위에 의해 계산되어지는 파생 속성이다.

--- 

### 14번, 15번 문제

위 7번 ,8번 ,10번와 비슷한 유형

---

### 16번 문제

관계 표기법

 * 관계명 : 관계의 이름 (엔터티 이름이 아님)
   * ex) 포함한다, 소속된다, 주문한다, 출석을 한다
 * 관계차수 : 관계에 참여하는 수
   * 1:1, 1:M, N:M
 * 관계선택사양 : 필수 or 선택을 나타냄
   * 0개가 포함이면 선택, 1개 이상이면 필수
  
---

### 17번 문제

* 엔터티 간의 관계
  * 두 엔터티 사이를 이어주는 동사(관계명)가 존재해야한다.
  * 두 엔터티 사이에 조합되는 정보가 존재해야 한다.
  * 두 엔터티 사이에 영향력 있는 관계가 존재해야 한다.

※ 엔터티 간의 관계에는 부모-자식 외 다른 관계도 존재할 수 있다.

* 엔터티의 특징
  * 업무에 필요한 정보여야 함.
  * 유니크함을 보장하는 식별자가 있어야 함
  * 2개 이상의 인스턴스를 가지고 있어야 함
  * 반드시 속성을 가지고 있어야 함
  * 다른 엔터티와 1개 이상의 관계를 가지고 있어야 함


---

### 18번, 19번, 20번 문제


* 주식별자
  * 유일성, 최소성, 불변성, 존재성을 가진 대표 식별자.
  * PK가 이에 해당함.
  * 여러 개의 속성이 주 식별자가 될 수도 있음
  * ex) 부서코드, 주문번호, 사원번호


* 식별자 분류
  1. 대표성 여부
     1. 주식별자 : 다른 엔터티와 참조 관계로 연결
     2. 보조식별자 : 인스턴스를 식별할 수는 있지만 대표 식별자가 아님, 다른 엔터티와 참고관계로 연결되지 않음
  2. 스스로 생성 여부
     1. 내부식별자 : 엔터티 내부에서 스스로?(처음) 생성된 식별자. 
     2. 외부식별자 : 다른 엔터티에서 온 식별자, 다른 엔터티와의 연결고리 역할
  3. 단일 속성 여부
     1. 단일식별자 : (하나의 엔터티 내) 하나의 속성 식별자
     2. 복합식별자 : (하나의 엔터티 내) 두 개 이상의 식별자
  4. 대체 여부
     1. 원조식별자 : 업무 프로세스에 존재하는 식별자. 가공되지 않은 원래의 식별자 (본질 식별자)
     2. 대리식별자 : 주식별자의 속성이 두 개 이상인 경우 그 속성들을 하나로 묶어서 사용하는 식별자(인조식별자)





